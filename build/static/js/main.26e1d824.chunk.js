(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{117:function(e,t,n){"use strict";n.r(t);var a,r,c,s=n(0),o=n(23),i=n.n(o),l=(n(87),n(88),n(43)),d=n(7),u=n(130),j=n(122),p=n(132),b=n(123),O=n(9),h=n.n(O),f=n(17),x=n(18),m=n.n(x),g=n(70),v=function(){return function(){var e=Object(f.a)(h.a.mark((function e(t,n){var a,r,c,s,o,i,l,d,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n(),r=a.user.userInfo,c=Object(g.a)(r.access,{complete:!0}),s=Object(g.a)(r.refresh,{complete:!0}),o=new Date,!(1e3*c.exp<o.getTime())){e.next=21;break}if(console.log("Access Token expired."),!(1e3*s.exp>o.getTime())){e.next=18;break}return i={headers:{"Content-Type":"application/json"}},l={refresh:r.refresh},e.next=11,m.a.post("http://127.0.0.1:8000/user/token/refresh/",l,i);case 11:d=e.sent,u=d.data,r.refresh=u.refresh,r.access=u.access,localStorage.setItem("userInfo",JSON.stringify(r)),e.next=19;break;case 18:console.log("Refresh token is expired");case 19:e.next=22;break;case 21:console.log("Valid token");case 22:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},y="USER_REQUEST",_="USER_SUCCESS",k="USER_FAIL",I="USER_LOGOUT",w="USER_DETAILS_REQUEST",S="USER_DETAILS_SUCCESS",C="USER_DETAILS_FAIL",E="USER_DETAILS_RESET",L="USER_PROFILE_UPDATE_REQUEST",D="USER_PROFILE_UPDATE_SUCCESS",N="USER_PROFILE_UPDATE_FAIL",P="USER_PROFILE_UPDATE_RESET",R=n(1),T=function(){var e=Object(d.c)(),t=Object(d.d)((function(e){return e.user})).userInfo;return Object(R.jsx)("header",{children:Object(R.jsx)(u.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(R.jsxs)(j.a,{fluid:!0,children:[Object(R.jsx)(l.LinkContainer,{to:"/",children:Object(R.jsx)(u.a.Brand,{children:"Rope"})}),Object(R.jsx)(u.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(R.jsx)(u.a.Collapse,{id:"basic-navbar-nav",children:Object(R.jsxs)(p.a,{className:"mr-auto",children:[Object(R.jsx)(l.LinkContainer,{to:"/",className:"mr-auto",children:Object(R.jsx)(p.a.Link,{children:"Home"})}),t?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(l.LinkContainer,{to:"/board",children:Object(R.jsx)(p.a.Link,{children:"Board"})}),Object(R.jsxs)(b.a,{title:t.first_name+" "+t.last_name,id:"username",children:[Object(R.jsx)(l.LinkContainer,{to:"/profile",children:Object(R.jsx)(b.a.Item,{children:"Profile"})}),Object(R.jsx)(b.a.Item,{onClick:function(){e(function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(v()),localStorage.removeItem("userInfo"),t({type:I}),t({type:E});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Logout"})]})]}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(l.LinkContainer,{to:"/login",children:Object(R.jsx)(p.a.Link,{children:"Login"})}),Object(R.jsx)(l.LinkContainer,{to:"/register",children:Object(R.jsx)(p.a.Link,{children:"Register"})})]})]})})]})})})},U=n(124),F=n(81),G=function(){return Object(R.jsx)("footer",{children:Object(R.jsx)(j.a,{children:Object(R.jsx)(U.a,{children:Object(R.jsx)(F.a,{className:"text-center py-3",children:"Copyright \xa9 Rope"})})})})},A=function(e){return Object(R.jsxs)("div",{children:[Object(R.jsx)(T,{}),e.children,Object(R.jsx)(G,{})]})},B=n(40),q=n(15),J=function(){var e=Object(d.c)(),t=Object(d.d)((function(e){return e.user})),n=(t.error,t.loading,t.userInfo);return Object(s.useEffect)((function(){n&&e(v())}),[n]),Object(R.jsx)(j.a,{className:"mt-3",children:Object(R.jsx)("h1",{children:"Home"})})},K=n(125),H=function(){return Object(R.jsx)(K.a,{animation:"border",role:"status",style:{position:"absolute",height:"200px",width:"200px",top:"45%",left:"45%",display:"block"},children:Object(R.jsx)("span",{className:"sr-only"})})},W=n(8),V=n(10),z=n(20),M=n(80),Q=n(128),X=n(129),Y=n(21),Z=Object(Y.a)("workpackages/fetchWorkpackages",Object(f.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("http://localhost:8000/api/workpackages/");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),$=Object(Y.a)("workpackages/createWorkpackage",function(){var e=Object(f.a)(h.a.mark((function e(t){var n,a,r,c,s,o,i,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.title,a=t.procedure,r=t.planned_start_date,c=t.planned_end_date,s=t.planned_efforts,o={title:n,procedure:a,planned_start_date:r,planned_end_date:c,planned_efforts:s,project_lead_column:1},e.next=4,m.a.put("http://localhost:8000/api/workpackages-create/",o);case 4:return i=e.sent,l=i.data,e.abrupt("return",l);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ee=Object(Y.a)("workpackages/updateWorkpackage",function(){var e=Object(f.a)(h.a.mark((function e(t){var n,a,r,c,s,o,i,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.title,r=t.procedure,c=t.planned_start_date,s=t.planned_end_date,o=t.planned_efforts,i={id:n,title:a,procedure:r,planned_start_date:c,planned_end_date:s,planned_efforts:o},e.next=4,m.a.put("http://localhost:8000/api/workpackages-update/",i);case 4:return l=e.sent,e.abrupt("return",l);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),te=Object(Y.b)({selectId:function(e){return e.id}}),ne=Object(Y.c)({name:"workpackages",initialState:{},reducers:{},extraReducers:(a={},Object(W.a)(a,Z.pending,(function(e){e.loading=!0})),Object(W.a)(a,Z.fulfilled,(function(e,t){var n=t.payload;e.loading=!1,te.setAll(e,n)})),Object(W.a)(a,Z.rejected,(function(e){e.loading=!1})),Object(W.a)(a,$.pending,(function(e){e.loading=!0})),Object(W.a)(a,$.fulfilled,(function(e,t){var n=t.payload;e.loading=!1,te.addOne(e,n)})),Object(W.a)(a,$.rejected,(function(e){e.loading=!1})),Object(W.a)(a,ee.pending,(function(e){e.loading=!0})),Object(W.a)(a,ee.fulfilled,(function(e,t){t.payload;e.loading=!1})),Object(W.a)(a,ee.rejected,(function(e){e.loading=!1})),a)}).reducer,ae=function(){var e=Object(d.d)((function(e){return e.workpackages.loading})),t=Object(s.useState)(!1),n=Object(z.a)(t,2),a=n[0],r=n[1],c=function(){return r(!1)},o=Object(d.c)(),i=Object(s.useState)({title:"",procedure:"",planned_start_date:"",planned_end_date:"",planned_efforts:""}),l=Object(z.a)(i,2),u=l[0],p=l[1],b=u.title,O=u.procedure,h=u.planned_start_date,f=u.planned_end_date,x=u.planned_efforts,m=function(e){p(Object(V.a)(Object(V.a)({},u),{},Object(W.a)({},e.target.name,e.target.value)))};return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("div",{className:"d-grid gap-2",style:{maxWidth:"200px"},children:Object(R.jsxs)(M.a,{className:"p-1",variant:"outline-dark",style:{borderStyle:"dashed",borderRadius:"20px"},onClick:function(){return r(!0)},children:["Add card ",Object(R.jsx)("i",{className:"fa fa-plus","aria-hidden":"true"})]})}),Object(R.jsxs)(Q.a,{show:a,onHide:c,backdrop:"static",keyboard:!1,size:"lg",children:[Object(R.jsx)(Q.a.Header,{closeButton:!0,children:Object(R.jsx)(Q.a.Title,{children:"New Card"})}),Object(R.jsx)(Q.a.Body,{children:Object(R.jsxs)(j.a,{className:"px-5",children:[e?Object(R.jsx)(H,{}):Object(R.jsx)(R.Fragment,{}),Object(R.jsxs)(X.a,{onSubmit:function(e){e.preventDefault(),o($({title:b,procedure:O,planned_start_date:h,planned_end_date:f,planned_efforts:x}))},children:[Object(R.jsxs)(X.a.Group,{controlId:"title",children:[Object(R.jsx)(X.a.Label,{children:"Title"}),Object(R.jsx)(X.a.Control,{type:"text",required:!0,placeholder:"title",value:b,name:"title",onChange:function(e){return m(e)}})]}),Object(R.jsxs)(X.a.Group,{controlId:"procedure",children:[Object(R.jsx)(X.a.Label,{children:"Procedure"}),Object(R.jsx)(X.a.Control,{type:"text",required:!0,placeholder:"procedure",value:O,name:"procedure",onChange:function(e){return m(e)}})]}),Object(R.jsxs)(X.a.Group,{controlId:"planned_start_date",children:[Object(R.jsx)(X.a.Label,{children:"Planned Start Date"}),Object(R.jsx)(X.a.Control,{type:"date",required:!0,placeholder:"Email",value:h,name:"planned_start_date",onChange:function(e){return m(e)}})]}),Object(R.jsxs)(X.a.Group,{controlId:"planned_end_date",children:[Object(R.jsx)(X.a.Label,{children:"Planned End Date"}),Object(R.jsx)(X.a.Control,{type:"date",placeholder:"New Password",value:f,name:"planned_end_date",onChange:function(e){return m(e)}})]}),Object(R.jsxs)(X.a.Group,{controlId:"planned_efforts",children:[Object(R.jsx)(X.a.Label,{children:"Planned Efforts"}),Object(R.jsx)(X.a.Control,{type:"number",min:"1",required:!0,placeholder:"planned_efforts",value:x,name:"planned_efforts",onChange:function(e){return m(e)}})]}),Object(R.jsx)(M.a,{type:"submit",variant:"primary",className:"my-2",children:"update"})]})]})}),Object(R.jsx)(Q.a.Footer,{children:Object(R.jsx)(M.a,{variant:"secondary",onClick:c,children:"Close"})})]})]})},re=n(46),ce=Object(Y.a)("columns/fetchColumns",Object(f.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("http://localhost:8000/api/columns/");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),se=Object(Y.a)("columns/updateColumns",function(){var e=Object(f.a)(h.a.mark((function e(t){var n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.columnId,a=t.lead_column,r={columnId:n,order:a},m.a.put("http://localhost:8000/api/workpackages-order-update/",r),e.abrupt("return",{id:n,changes:{lead_column:a}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),oe=Object(Y.a)("columns/updateBetweenColumns",function(){var e=Object(f.a)(h.a.mark((function e(t){var n,a,r,c,s,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.start,a=t.startTasks,r=t.finish,c=t.finishTasks,s=t.draggableId,o={columnId:r,workpackageId:s,order:c},m.a.put("http://localhost:8000/api/workpackages-column-update/",o),e.abrupt("return",{start:n,updateStart:{lead_column:a},finish:r,updateFinish:{lead_column:c}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ie=Object(Y.b)({selectId:function(e){return e.id}}),le=Object(Y.c)({name:"columns",initialState:ie.getInitialState({loading:!1}),reducers:{},extraReducers:(r={},Object(W.a)(r,ce.pending,(function(e){e.loading=!0})),Object(W.a)(r,ce.fulfilled,(function(e,t){var n=t.payload;e.loading=!1,ie.setAll(e,n)})),Object(W.a)(r,ce.rejected,(function(e){e.loading=!1})),Object(W.a)(r,se.pending,(function(e){e.loading=!0})),Object(W.a)(r,se.fulfilled,(function(e,t){var n=t.payload;e.loading=!1,ie.updateOne(e,{id:n.id,changes:n.changes})})),Object(W.a)(r,oe.pending,(function(e){e.loading=!0})),Object(W.a)(r,oe.fulfilled,(function(e,t){var n=t.payload;e.loading=!1,ie.updateMany(e,[{id:n.start,changes:n.updateStart},{id:n.finish,changes:n.updateFinish}])})),r)}),de=ie.getSelectors((function(e){return e.columns})),ue=le.reducer,je=Object(Y.a)("documents/fetchDocuments",Object(f.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("http://localhost:8000/api/documents/");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),pe=Object(Y.a)("documents/fileUpload",function(){var e=Object(f.a)(h.a.mark((function e(t,n){var a,r,c,s,o,i,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.file,r=t.description,c=t.taskId,s=n.dispatch,(o=new FormData).append("file",a),o.append("description",r),o.append("workpackage",c),e.next=8,m.a.post("http://127.0.0.1:8000/api/document-upload/",o,{onUploadProgress:function(e){var t=e.lengthComputable?e.total:e.target.getResponseHeader("content-length")||e.target.getResponseHeader("x-decompressed-content-length");null!==t&&s(he(Math.round(100*e.loaded/t)))}});case 8:return i=e.sent,l=i.data,e.abrupt("return",l);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),be=Object(Y.b)({selectId:function(e){return e.id}}),Oe=Object(Y.c)({name:"documents",initialState:be.getInitialState({loading:!1,processDetail:0}),reducers:{progressBarValue:function(e,t){var n=t.payload;e.processDetail=n}},extraReducers:(c={},Object(W.a)(c,je.pending,(function(e){e.loading=!0})),Object(W.a)(c,je.fulfilled,(function(e,t){var n=t.payload;e.loading=!1,be.setAll(e,n)})),Object(W.a)(c,je.rejected,(function(e){e.loading=!1})),Object(W.a)(c,pe.pending,(function(e){e.loading=!0})),Object(W.a)(c,pe.fulfilled,(function(e,t){var n=t.payload;e.loading=!1,e.processDetail=0,be.addOne(e,n)})),Object(W.a)(c,pe.rejected,(function(e){e.loading=!1,e.processDetail=0})),c)}),he=(be.getSelectors((function(e){return e.columns})),Oe.actions.progressBarValue),fe=Oe.reducer,xe=n(133),me=n(38),ge=function(e){var t=e.task,n=e.index;return Object(R.jsx)(re.b,{draggableId:""+t.id,index:n,children:function(e,n){return Object(R.jsx)(xe.a,Object(V.a)(Object(V.a)(Object(V.a)({},e.draggableProps),e.dragHandleProps),{},{ref:e.innerRef,style:Object(V.a)({display:"flex",userSelect:"none",borderRadius:6,margin:"0 0 8px 0",minHeight:"0px",backgroundColor:n.isDragging?"#3c7a89":"#2e4756"},e.draggableProps.style),children:Object(R.jsxs)(U.a,{children:[Object(R.jsx)(F.a,{style:{minWidth:"80%"},children:Object(R.jsxs)(xe.a.Body,{children:[Object(R.jsx)(xe.a.Title,{style:{color:"white"},children:t.title}),Object(R.jsxs)(xe.a.Subtitle,{className:"mb-2 text-muted",children:["Due Date: ",t.planned_end_date]}),Object(R.jsxs)(xe.a.Text,{style:{color:"white"},children:["Procedure: ",t.procedure]})]})}),Object(R.jsx)(F.a,{style:{minWidth:"20%"},children:Object(R.jsxs)(me.a,{children:[Object(R.jsx)(me.a.Toggle,{style:{background:"transparent",boxShadow:"none",paddingTop:0,paddingBottom:0}}),Object(R.jsxs)(me.a.Menu,{children:[Object(R.jsx)(me.a.Item,{as:B.Link,to:{pathname:"/card/".concat(t.id)},children:"View"}),Object(R.jsx)(me.a.Item,{children:"Delete"})]})]})})]})}))}})},ve=function(e){var t=e.columnId,n=e.title,a=e.tasks;return Object(R.jsxs)("div",{children:[Object(R.jsx)("h4",{children:n}),Object(R.jsx)(re.c,{droppableId:""+t,children:function(e,t){return Object(R.jsxs)(F.a,Object(V.a)(Object(V.a)({ref:e.innerRef},e.droppableProps),{},{style:{background:t.isDraggingOver?"#B8DBD9":"white",padding:4,minWidth:200,maxWidth:350,width:400,minHeight:300},children:[a.map((function(e,t){return Object(R.jsx)(ge,{task:e,index:t},e.id)})),e.placeholder]}))}})]})},ye=Object(s.memo)(ve),_e=function(){var e=Object(d.c)();Object(s.useEffect)((function(){e(ce()),e(Z()),e(je())}),[e]);var t=Object(d.d)(de.selectIds),n=Object(d.d)(de.selectEntities),a=Object(d.d)((function(e){return e.columns.loading})),r=Object(d.d)((function(e){return e.workpackages.entities}));return Object(R.jsxs)(R.Fragment,{children:[a?Object(R.jsx)(H,{}):Object(R.jsx)(R.Fragment,{}),Object(R.jsxs)(j.a,{fluid:!0,className:"mt-3",children:[Object(R.jsx)("h1",{children:"Kanban Board"}),Object(R.jsx)("hr",{})]}),Object(R.jsx)(j.a,{children:Object(R.jsx)(ae,{})}),Object(R.jsx)(j.a,{className:"mt-3",style:{display:"flex",justifyContent:"space-around"},children:Object(R.jsx)(re.a,{onDragEnd:function(t){var a=t.destination,r=t.source,c=t.draggableId;if(a&&(a.droppableId!==r.draggableId||a.index!==r.index)){var s=r.droppableId,o=a.droppableId;if(s===o){var i=Array.from(n[r.droppableId].lead_column);i.splice(r.index,1),i.splice(a.index,0,c);var l=r.droppableId;if(i.join(",")===n[r.droppableId].lead_column.join(","))return;e(se({columnId:l,lead_column:i}))}else if(s!==o){var d=Array.from(n[r.droppableId].lead_column);d.splice(r.index,1);var u=Array.from(n[a.droppableId].lead_column);u.splice(a.index,0,c),e(oe({start:s,startTasks:d,finish:o,finishTasks:u,draggableId:c}))}}},children:n&&r?t.map((function(e){var t=n[e].lead_column.map((function(e){return r[e]}));return Object(R.jsx)(ye,{columnId:e,title:n[e].title,tasks:t},e)})):Object(R.jsx)(R.Fragment,{children:"No Columns"})})})]})},ke=function(e){return Object(R.jsx)(j.a,{className:"py-5",children:Object(R.jsx)(U.a,{className:"justify-content-md-center",children:Object(R.jsx)(F.a,{xs:12,md:6,children:e.children})})})},Ie=n(126),we=function(e){var t=e.variant,n=e.children;return Object(R.jsx)(Ie.a,{variant:t,children:n})},Se=function(e){var t=e.location,n=e.history,a=t.search?t.search.split("=")[1]:"/",r=Object(d.d)((function(e){return e.user})),c=r.error,o=r.loading,i=r.userInfo;Object(s.useEffect)((function(){i&&n.push(a)}),[n,i,a]);var l=Object(d.c)(),u=Object(s.useState)({email:"",password:""}),j=Object(z.a)(u,2),p=j[0],b=j[1],O=p.email,x=p.password,g=function(e){return b(Object(V.a)(Object(V.a)({},p),{},Object(W.a)({},e.target.name,e.target.value)))};return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)(ke,{children:[Object(R.jsx)("h1",{children:"Sign In"}),o?Object(R.jsx)(H,{}):c?Object(R.jsx)(we,{variant:"danger",children:c}):Object(R.jsx)(R.Fragment,{}),Object(R.jsxs)(X.a,{onSubmit:function(e){e.preventDefault(),l(function(e,t){return function(){var n=Object(f.a)(h.a.mark((function n(a){var r,c,s,o;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:y}),r={headers:{"Content-Type":"application/json"}},c=JSON.stringify({email:e,password:t}),n.next=6,m.a.post("http://127.0.0.1:8000/user/login/",c,r);case 6:s=n.sent,o=s.data,a({type:_,payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),n.next=19;break;case 12:n.prev=12,n.t0=n.catch(0),console.log(n.t0.reponse),console.log(n.t0.response.data.details),console.log(n.t0.response.data.detail),console.log(n.t0.message),a({type:k,payload:n.t0.reponse&&n.t0.response.data.details?n.t0.message:n.t0.response.data.detail});case 19:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()}(O,x))},children:[Object(R.jsxs)(X.a.Group,{controlId:"email",children:[Object(R.jsx)(X.a.Label,{children:"Email"}),Object(R.jsx)(X.a.Control,{type:"email",placeholder:"Email",value:O,name:"email",onChange:function(e){return g(e)}})]}),Object(R.jsxs)(X.a.Group,{controlId:"password",children:[Object(R.jsx)(X.a.Label,{children:"Password"}),Object(R.jsx)(X.a.Control,{type:"password",placeholder:"Password",value:x,name:"password",onChange:function(e){return g(e)}})]}),Object(R.jsx)(M.a,{type:"submit",variant:"primary",className:"my-2",children:"Sign In"})]})]})})},Ce=function(e){var t=e.location,n=e.history,a=t.search?t.search.split("=")[1]:"/",r=Object(d.d)((function(e){return e.user})),c=r.error,o=r.loading,i=r.userInfo;Object(s.useEffect)((function(){i&&n.push(a)}),[n,i,a]);var l=Object(d.c)(),u=Object(s.useState)({first_name:"",last_name:"",email:"",password:""}),j=Object(z.a)(u,2),p=j[0],b=j[1],O=p.first_name,x=p.last_name,g=p.email,v=p.password,I=function(e){return b(Object(V.a)(Object(V.a)({},p),{},Object(W.a)({},e.target.name,e.target.value)))};return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)(ke,{children:[Object(R.jsx)("h1",{children:"Sign In"}),o?Object(R.jsx)(H,{}):c?Object(R.jsx)(we,{variant:"danger",children:c}):Object(R.jsx)(R.Fragment,{}),Object(R.jsxs)(X.a,{onSubmit:function(e){e.preventDefault(),l(function(e,t,n,a){return function(){var r=Object(f.a)(h.a.mark((function r(c){var s,o,i,l;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,c({type:y}),s={headers:{"Content-Type":"application/json"}},o=JSON.stringify({first_name:e,last_name:t,email:n,password:a}),r.next=6,m.a.post("http://127.0.0.1:8000/user/register/",o,s);case 6:i=r.sent,l=i.data,c({type:_,payload:l}),localStorage.setItem("userInfo",JSON.stringify(l)),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),c({type:k,payload:r.t0.reponse&&r.t0.response.data.details?r.t0.response.data.detail:r.t0.message});case 15:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(e){return r.apply(this,arguments)}}()}(O,x,g,v))},children:[Object(R.jsxs)(X.a.Group,{controlId:"first_name",children:[Object(R.jsx)(X.a.Label,{children:"first_name"}),Object(R.jsx)(X.a.Control,{type:"text",placeholder:"first_name",value:O,name:"first_name",onChange:function(e){return I(e)}})]}),Object(R.jsxs)(X.a.Group,{controlId:"last_name",children:[Object(R.jsx)(X.a.Label,{children:"last_name"}),Object(R.jsx)(X.a.Control,{type:"text",placeholder:"last_name",value:x,name:"last_name",onChange:function(e){return I(e)}})]}),Object(R.jsxs)(X.a.Group,{controlId:"email",children:[Object(R.jsx)(X.a.Label,{children:"Email"}),Object(R.jsx)(X.a.Control,{type:"email",placeholder:"Email",value:g,name:"email",onChange:function(e){return I(e)}})]}),Object(R.jsxs)(X.a.Group,{controlId:"password",children:[Object(R.jsx)(X.a.Label,{children:"Password"}),Object(R.jsx)(X.a.Control,{type:"password",placeholder:"Password",value:v,name:"password",onChange:function(e){return I(e)}})]}),Object(R.jsx)(M.a,{type:"submit",variant:"primary",className:"my-2",children:"Sign In"})]})]})})},Ee=function(e){var t=e.location,n=e.history,a=t.search?t.search.split("=")[1]:"/",r=Object(d.c)(),c=Object(s.useState)({first_name:"",last_name:"",email:"",password:""}),o=Object(z.a)(c,2),i=o[0],l=o[1],u=i.first_name,j=i.last_name,p=i.email,b=i.password,O=function(e){return l(Object(V.a)(Object(V.a)({},i),{},Object(W.a)({},e.target.name,e.target.value)))},x=Object(d.d)((function(e){return e.user})).userInfo,g=Object(d.d)((function(e){return e.userDetails})),v=g.error,y=g.user,k=Object(d.d)((function(e){return e.userProfileUpdate})),I=k.loading,E=k.success,T=k.updateError;return Object(s.useEffect)((function(){var e;x?!y||E?(r({type:P}),r(function(){var e=Object(f.a)(h.a.mark((function e(t,n){var a,r,c,s,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:w}),a=n(),r=a.user.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r.access)}},e.next=6,m.a.get("http://127.0.0.1:8000/user/user-details/",c);case 6:s=e.sent,o=s.data,t({type:S,payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:C,payload:e.t0.reponse&&e.t0.response.data.details?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}())):l(Object(V.a)(Object(V.a)({},i),{},(e={},Object(W.a)(e,"first_name",y.first_name),Object(W.a)(e,"last_name",y.last_name),Object(W.a)(e,"email",y.email),e))):n.push("/login")}),[n,y,x,a,E]),Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)(ke,{children:[Object(R.jsx)("h1",{children:"Sign In"}),I?Object(R.jsx)(H,{}):T?Object(R.jsx)(we,{variant:"danger",children:T}):v?Object(R.jsx)(we,{variant:"danger",children:v}):Object(R.jsx)(R.Fragment,{}),Object(R.jsxs)(X.a,{onSubmit:function(e){e.preventDefault(),r(function(e,t,n,a){return function(){var r=Object(f.a)(h.a.mark((function r(c,s){var o,i,l,d,u,j;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,c({type:L}),o=s(),i=o.user.userInfo,console.log(i.access),l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i.access)}},d=JSON.stringify({first_name:e,last_name:t,email:n,password:a}),r.next=8,m.a.put("http://127.0.0.1:8000/user/update/",d,l);case 8:u=r.sent,j=u.data,c({type:D,payload:j}),c({type:_,payload:j}),localStorage.setItem("userInfo",JSON.stringify(j)),r.next=18;break;case 15:r.prev=15,r.t0=r.catch(0),c({type:N,payload:r.t0.reponse&&r.t0.response.data.details?r.t0.response.data.detail:r.t0.message});case 18:case"end":return r.stop()}}),r,null,[[0,15]])})));return function(e,t){return r.apply(this,arguments)}}()}(u,j,p,b))},children:[Object(R.jsxs)(X.a.Group,{controlId:"first_name",children:[Object(R.jsx)(X.a.Label,{children:"First Name"}),Object(R.jsx)(X.a.Control,{type:"text",required:!0,placeholder:"first_name",value:u,name:"first_name",onChange:function(e){return O(e)}})]}),Object(R.jsxs)(X.a.Group,{controlId:"last_name",children:[Object(R.jsx)(X.a.Label,{children:"Last Name"}),Object(R.jsx)(X.a.Control,{type:"text",required:!0,placeholder:"last_name",value:j,name:"last_name",onChange:function(e){return O(e)}})]}),Object(R.jsxs)(X.a.Group,{controlId:"email",children:[Object(R.jsx)(X.a.Label,{children:"Email"}),Object(R.jsx)(X.a.Control,{type:"email",required:!0,placeholder:"Email",value:p,name:"email",onChange:function(e){return O(e)}})]}),Object(R.jsxs)(X.a.Group,{controlId:"password",children:[Object(R.jsx)(X.a.Label,{children:"New Password"}),Object(R.jsx)(X.a.Control,{type:"password",placeholder:"New Password",value:b,name:"password",onChange:function(e){return O(e)}})]}),Object(R.jsx)(M.a,{type:"submit",variant:"primary",className:"my-2",children:"update"})]})]})})},Le=n(131),De=n(134),Ne=function(e){var t=e.taskId,n=Object(d.d)((function(e){return e.documents.processDetail})),a=Object(d.d)((function(e){return e.documents.loading})),r=Object(d.c)(),c=Object(s.useState)(),o=Object(z.a)(c,2),i=o[0],l=o[1],u=Object(s.useState)({description:""}),j=Object(z.a)(u,2),p=j[0],b=j[1],O=p.description;return Object(R.jsxs)("div",{children:[a?Object(R.jsx)(H,{}):Object(R.jsx)(R.Fragment,{}),Object(R.jsxs)(X.a,{onSubmit:function(e){e.preventDefault(),r(pe({file:i,description:O,taskId:t}))},style:{width:"70%"},children:[Object(R.jsxs)(X.a.Group,{controlId:"description",children:[Object(R.jsx)(X.a.Label,{children:"Description"}),Object(R.jsx)(X.a.Control,{type:"text",required:!0,placeholder:"description",value:O,name:"description",onChange:function(e){return function(e){return b(Object(V.a)(Object(V.a)({},p),{},Object(W.a)({},e.target.name,e.target.value)))}(e)}})]}),Object(R.jsx)("br",{}),Object(R.jsxs)(X.a.Group,{children:[Object(R.jsx)(X.a.Label,{children:"File"}),Object(R.jsx)("br",{}),Object(R.jsx)(X.a.Control,{type:"file",required:!0,name:"file",onChange:function(e){return function(e){l(e.target.files[0])}(e)}})]}),Object(R.jsx)("br",{}),Object(R.jsx)(M.a,{type:"submit",variant:"primary",className:"my-2",children:"Upload"})]}),n?Object(R.jsx)(De.a,{animated:!0,now:n,label:"".concat(n,"%")}):Object(R.jsx)(R.Fragment,{})]})},Pe=n(127),Re=function(e){var t=e.taskId,n=Object(d.d)((function(e){return e.documents.entities})),a=Object(d.d)((function(e){return e.workpackages.entities[t].documents})),r=Object(s.useState)(n),c=Object(z.a)(r,2),o=c[0],i=c[1],l=Object(s.useState)(a),u=Object(z.a)(l,2),j=u[0],p=u[1];return Object(s.useEffect)((function(){i(n),p(a)}),[n,a]),Object(R.jsxs)(Pe.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,size:"sm",children:[Object(R.jsx)("thead",{children:Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:Object(R.jsx)("h5",{children:"Description"})}),Object(R.jsx)("th",{children:Object(R.jsx)("h5",{children:"URL"})})]})}),Object(R.jsx)("tbody",{children:o&&j?j.map((function(e){var t=o[e];return console.log(t.id,e),Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{children:t.description}),Object(R.jsx)("td",{style:{overflowX:"scroll",overflowY:"scroll"},children:Object(R.jsx)("a",{href:t.file,target:"_blank",children:t.file})})]},t.id)})):Object(R.jsx)(R.Fragment,{children:"No Documents"})})]})},Te=function(e){var t=e.task;return Object(R.jsxs)("div",{children:[Object(R.jsxs)("div",{children:["Title: ",t.title]}),Object(R.jsxs)("div",{children:["Procedure: ",t.procedure]}),Object(R.jsxs)("div",{children:["Planned Start Date: ",t.planned_start_date]}),Object(R.jsxs)("div",{children:["Planned End Date: ",t.planned_end_date]}),Object(R.jsxs)("div",{children:["Planned Efforts: ",t.planned_efforts]})]})},Ue=function(e){var t=e.task,n=Object(d.d)((function(e){return e.workpackages.loading})),a=Object(d.c)(),r=Object(s.useState)({title:t.title,procedure:t.procedure,planned_start_date:t.planned_start_date,planned_end_date:t.planned_end_date,planned_efforts:t.planned_efforts}),c=Object(z.a)(r,2),o=c[0],i=c[1],l=o.title,u=o.procedure,j=o.planned_start_date,p=o.planned_end_date,b=o.planned_efforts,O=function(e){i(Object(V.a)(Object(V.a)({},o),{},Object(W.a)({},e.target.name,e.target.value)))};return Object(R.jsxs)("div",{children:[n?Object(R.jsx)(H,{}):Object(R.jsx)(R.Fragment,{}),Object(R.jsxs)(X.a,{onSubmit:function(e){e.preventDefault(),console.log(t),a(ee({id:t.id,title:l,procedure:u,planned_start_date:j,planned_end_date:p,planned_efforts:b}))},children:[Object(R.jsxs)(X.a.Group,{controlId:"title",children:[Object(R.jsx)(X.a.Label,{children:"Title"}),Object(R.jsx)(X.a.Control,{type:"text",required:!0,placeholder:"title",value:l,name:"title",onChange:function(e){return O(e)}})]}),Object(R.jsxs)(X.a.Group,{controlId:"procedure",children:[Object(R.jsx)(X.a.Label,{children:"Procedure"}),Object(R.jsx)(X.a.Control,{type:"text",required:!0,placeholder:"procedure",value:u,name:"procedure",onChange:function(e){return O(e)}})]}),Object(R.jsxs)(X.a.Group,{controlId:"planned_start_date",children:[Object(R.jsx)(X.a.Label,{children:"Planned Start Date"}),Object(R.jsx)(X.a.Control,{type:"date",required:!0,placeholder:"Email",value:j,name:"planned_start_date",onChange:function(e){return O(e)}})]}),Object(R.jsxs)(X.a.Group,{controlId:"planned_end_date",children:[Object(R.jsx)(X.a.Label,{children:"Planned End Date"}),Object(R.jsx)(X.a.Control,{type:"date",placeholder:"New Password",value:p,name:"planned_end_date",onChange:function(e){return O(e)}})]}),Object(R.jsxs)(X.a.Group,{controlId:"planned_efforts",children:[Object(R.jsx)(X.a.Label,{children:"Planned Efforts"}),Object(R.jsx)(X.a.Control,{type:"number",min:"1",required:!0,placeholder:"planned_efforts",value:b,name:"planned_efforts",onChange:function(e){return O(e)}})]}),Object(R.jsx)(M.a,{type:"submit",variant:"primary",className:"my-2",children:"update"})]})]})},Fe=function(e){var t=e.task;return Object(R.jsx)(Le.a.Container,{defaultActiveKey:"view",children:Object(R.jsxs)(U.a,{children:[Object(R.jsx)(F.a,{sm:3,children:Object(R.jsxs)(p.a,{variant:"pills",className:"flex-column",children:[Object(R.jsx)(p.a.Item,{children:Object(R.jsx)(p.a.Link,{eventKey:"view",children:"View"})}),Object(R.jsx)(p.a.Item,{children:Object(R.jsx)(p.a.Link,{eventKey:"edit",children:"Edit"})}),Object(R.jsx)(p.a.Item,{children:Object(R.jsx)(p.a.Link,{eventKey:"documents",children:"Documents"})}),Object(R.jsx)(p.a.Item,{children:Object(R.jsx)(p.a.Link,{eventKey:"documentsUpload",children:"Upload Documents"})})]})}),Object(R.jsx)(F.a,{sm:9,children:Object(R.jsxs)(Le.a.Content,{children:[Object(R.jsx)(Le.a.Pane,{eventKey:"view",children:Object(R.jsx)(Te,{task:t})}),Object(R.jsx)(Le.a.Pane,{eventKey:"edit",children:Object(R.jsx)(Ue,{task:t})}),Object(R.jsx)(Le.a.Pane,{eventKey:"documents",children:Object(R.jsx)(Re,{taskId:t.id})}),Object(R.jsx)(Le.a.Pane,{eventKey:"documentsUpload",children:Object(R.jsx)(Ne,{taskId:t.id})})]})})]})})},Ge=function(){var e=Object(q.m)().taskId,t=Object(d.d)((function(t){return t.workpackages.entities[e]}));return Object(R.jsx)(j.a,{className:"mt-4",children:Object(R.jsx)(U.a,{className:"d-flex",children:Object(R.jsx)(Fe,{task:t})})})},Ae=function(){return Object(R.jsx)("div",{children:Object(R.jsx)(B.BrowserRouter,{children:Object(R.jsx)(A,{children:Object(R.jsx)("div",{className:"main",children:Object(R.jsxs)(q.g,{children:[Object(R.jsx)(q.d,{path:"/",exact:!0,component:J}),Object(R.jsx)(q.d,{path:"/board",exact:!0,component:_e}),Object(R.jsx)(q.d,{path:"/login",exact:!0,component:Se}),Object(R.jsx)(q.d,{path:"/register",exact:!0,component:Ce}),Object(R.jsx)(q.d,{path:"/profile",exact:!0,component:Ee}),Object(R.jsx)(q.d,{path:"/card/:taskId",exact:!0,component:Ge})]})})})})})},Be=n(16),qe=n(82),Je=n(52),Ke=Object(Be.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return{loading:!0};case _:return{loading:!1,userInfo:t.payload};case k:return{loading:!1,error:t.payload};case I:return{};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(V.a)(Object(V.a)({},e),{},{loading:!0});case S:return{loading:!1,user:t.payload};case C:return{loading:!1,error:t.payload};case E:return{};default:return e}},userProfileUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return{loading:!0};case D:return{loading:!1,success:!0,userInfo:t.payload};case N:return{loading:!1,updateError:t.payload};case P:return{};default:return e}},columns:ue,workpackages:ne,documents:fe}),He={user:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},We=[Je.a],Ve=Object(Be.createStore)(Ke,He,Object(qe.composeWithDevTools)(Be.applyMiddleware.apply(void 0,We)));i.a.render(Object(R.jsx)(d.a,{store:Ve,children:Object(R.jsx)(Ae,{})}),document.getElementById("root"))},87:function(e,t,n){},88:function(e,t,n){}},[[117,1,2]]]);
//# sourceMappingURL=main.26e1d824.chunk.js.map